extends ../layouts/application.pug

block content
  h1= t('views.users.edit.title')

  form(method="post" action=`/users/${user.id}`)
    input(type="hidden" name="_method" value="PATCH")
    .mb-3
      label.form-label(for="data_firstName")= t('views.users.firstName')
      input#data_firstName.form-control(
        type="text"
        name="data[firstName]"
        value=user.firstName || ''
        class={'is-invalid': errors && errors.firstName}
      )
      if errors && errors.firstName
        .invalid-feedback.d-block= errors.firstName[0].message

    .mb-3
      label.form-label(for="data_lastName")= t('views.users.lastName')
      input#data_lastName.form-control(
        type="text"
        name="data[lastName]"
        value=user.lastName || ''
        class={'is-invalid': errors && errors.lastName}
      )
      if errors && errors.lastName
        .invalid-feedback.d-block= errors.lastName[0].message

    .mb-3
      label.form-label(for="data_email")= t('views.users.email')
      input#data_email.form-control(
        type="email"
        name="data[email]"
        value=user.email || ''
        class={'is-invalid': errors && errors.email}
      )
      if errors && errors.email
        .invalid-feedback.d-block= errors.email[0].message

    .mb-3
      label.form-label(for="data_password")= t('views.users.password')
      input#data_password.form-control(
        type="password"
        name="data[password]"
        class={'is-invalid': errors && errors.password}
      )
      if errors && errors.password
        .invalid-feedback.d-block= errors.password[0].message

    button.btn.btn-primary.me-2(type="submit")= t('views.users.edit.submit')

  hr

  form.mt-3(method="post" action=`/users/${user.id}`)
    input(type="hidden" name="_method" value="DELETE")
    button.btn.btn-danger(type="submit")= t('views.users.edit.delete')
